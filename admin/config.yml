backend:
  # En local usamos esto, en producción cambiarás a 'github'
  name: git-gateway
  branch: main

# # IMPORTANTE: Esto habilita el proxy que corre en Docker
# local_backend:
#   url: http://localhost:8081/api/v1
#   allowed_hosts: ["localhost", "127.0.0.1"]

media_folder: "assets/images/uploads"
public_folder: "/assets/images/uploads"

# Configuración del idioma de la interfaz
locale: "es"

collections:
  # COLECCIÓN 1: Publicaciones (Tipo FOLDER: crea archivos .md individuales)
  - name: "publications"
    label: "Publicaciones"
    folder: "_publications" # <--- Debes crear esta carpeta si no existe
    create: true
    slug: "{{year}}-{{slug}}"
    fields:
      - { label: "Título", name: "title", widget: "string" }
      - { label: "Fecha", name: "date", widget: "datetime" }
      - { label: "Resumen", name: "excerpt", widget: "text" }
      - {
          label: "PDF o Enlace",
          name: "pdf_url",
          widget: "string",
          required: false,
        }
      - { label: "Cuerpo", name: "body", widget: "markdown" }

  # COLECCIÓN 2: Proyectos (Tipo FILES: edita una lista dentro de un archivo .yml)
  - name: "data_projects"
    label: "Proyectos"
    delete: false # No borrar el archivo base
    files:
      - name: "projects"
        label: "Lista de Proyectos"
        file: "_data/projects.yml"
        fields:
          - label: "Proyectos"
            name: "projects" # Debe coincidir con la key en el yml
            widget: "list"
            fields:
              - { label: "Nombre del Proyecto", name: "name", widget: "string" }
              - { label: "Descripción", name: "description", widget: "text" }
              - { label: "Año Inicio", name: "year_start", widget: "number" }
              - {
                  label: "Año Fin",
                  name: "year_end",
                  widget: "number",
                  required: false,
                }

  # COLECCIÓN 3: Miembros (Tipo FILES)
  - name: "data_members"
    label: "Equipo"
    delete: false
    files:
      - name: "members"
        label: "Lista de Miembros"
        file: "_data/members.yml"
        fields:
          - label: "Miembros"
            name: "members"
            widget: "list"
            fields:
              - { label: "Nombre", name: "name", widget: "string" }
              - { label: "Rol/Cargo", name: "role", widget: "string" }
              - {
                  label: "Foto",
                  name: "photo",
                  widget: "image",
                  required: false,
                }
              - { label: "Bio", name: "bio", widget: "text", required: false }

  # COLECCIÓN 4: Configuración del Sitio (Tipo FILES)
  - name: "config"
    label: "Configuración General"
    files:
      - name: "home"
        label: "Página de Inicio"
        file: "_data/home.yml"
        fields:
          - { label: "Título Hero", name: "hero_title", widget: "string" }
          - {
              label: "Mostrar Publicaciones Recientes",
              name: "show_recent_publications",
              widget: "boolean",
            }
